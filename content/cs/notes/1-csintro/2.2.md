---
title: 2.2 不同进制间的转换
---

## 二进制数转换为十进制数

### 转换原理：按权展开求和

二进制采用“位置计数法”，每一位都有固定的**位权**。

- 第 $i$ 位的位权是 $2^i$（从右向左，最低位为第 0 位）。
- **公式**：$D = \sum (b_i \times 2^i)$

{{< callout >}}

**示例** 将二进制 `1101` 转换为十进制

$$ 1 \times 2^3 + 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 = 8 + 4 + 0 + 1 = 13 $$

{{</ callout >}}

### 二转十算法实现

代码演示了如何通过循环累加位权来实现这一过程。此处的“**改进**”是指将指数运算移到了循环外面。普通的转换方法通常在循环中重复计算 $2^k$，这涉及大量的乘法运算。改进后的方法利用位权的关系（每一位的权是前一位的 $\frac{1}{2}$），只进行一次初始指数运算，随后在循环中用除法迭代更新权重，从而减少了计算量，提高了效率。

```python {filename="<程序：改进后的2-to-10进制转换>"}
b = input("Please enter a binary number:")
d = 0
weight = 2 ** (len(b) - 1)
for i in range(0, len(b)):
    if b[i] == "1":
        d = d + weight
    weight = weight // 2
    # ‘//’是整数除法
print(d)
```

## 十进制数转换为二进制数

### 转换原理：除 2 取余，逆序排列

将十进制整数转换为二进制，通常采用**除以 2 取余数**的方法。

- **步骤**：不断将数字除以 2，记录余数，直到商为 0。
- **顺序**：最后得到的余数是最高位（MSB），最先得到的余数是最低位（LSB）。

{{< callout >}}

**示例** 将十进制 $13$ 转换为二进制

$$
\begin{array}{r|rr}
2 & 13 & \dots 1 \\ \hline
2 & 6 & \dots 0 \\ \hline
2 & 3 & \dots 1 \\ \hline
2 & 1 & \dots 1 \\ \hline
& 0 &
\end{array}
$$

结果：从下往上读余数 $\rightarrow 1101_2$。

{{</ callout >}}

### 十转二算法实现

利用 `while` 循环执行除法，并将余数插入列表头部以实现逆序。

```python {filename="<程序：整数的10-to-2进制转换>"}
x = int(input("Please enter a decimal number:"))
r = 0
Rs = []
while x != 0:
    r = x % 2
    x = x // 2
    Rs = [r] + Rs
for i in range(0, len(Rs)):
    # 从最高位到最低位依次输出；Rs[0]存的是最高位，Rs[len(Rs)-1]存的是最低位。
    print(Rs[i], end="")
```

## 小数的进制转换

### 十进制小数转换为二进制

如果十进制数包含整数部分和小数部分，需要**分别转换，最后拼接**。

1. **整数部分**：使用前文提到的“除 2 取余”法转换。
2. **小数部分**：使用 **“乘 2 取整，顺序排列”** 法转换。
   - 用小数部分乘以 2。
   - 取出结果的整数部分作为当前位。
   - 用剩下的小数部分重复步骤 1，直到小数部分为 0 或达到精度要求。

{{< callout >}}

**示例** 将十进制 $12.625$ 转换为二进制

1. **整数部分** $12$：$12 = 1100_2$ (除 2 取余)
2. **小数部分** $0.625$：
   - $0.625 \times 2 = 1.25 \rightarrow$ 取整 **1**，剩 $0.25$
   - $0.25 \times 2 = 0.5 \phantom{0} \rightarrow$ 取整 **0**，剩 $0.5$
   - $0.5 \phantom{00} \times 2 = 1.0 \phantom{0} \rightarrow$ 取整 **1**，剩 $0$ (结束)
   - 结果：$0.101_2$

**最终结果**：$1100.101_2$

{{</ callout >}}

### 二进制小数转换为十进制

同样采用 **“按权展开求和”** 的方法。整数部分按正幂展开，小数部分按负幂展开。

{{< callout >}}

**示例** 将二进制 $1101.101$ 转换为十进制

$$
\begin{aligned}
1101.101_2 &= \underbrace{1 \times 2^3 + 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0}_{\text{整数部分}} + \underbrace{1 \times 2^{-1} + 0 \times 2^{-2} + 1 \times 2^{-3}_{\phantom{0}}}_{\text{小数部分}} \\
&= (8 + 4 + 0 + 1) + (0.5 + 0 + 0.125) \\
&= 13 + 0.625 \\
&= 13.625
\end{aligned}
$$

{{</ callout >}}

### 八进制与十六进制的小数

- **与十进制互转**：原理同二进制。八进制小数权为 $8^{-1}, 8^{-2}...$，十六进制为 $16^{-1}, 16^{-2}...$。通常建议先转换为二进制作为桥梁。
- **与二进制互转**：利用 $2^3=8, 2^4=16$ 的关系，以小数点为界，分别向左（整数）和向右（小数）分组转换（详见下节）。

## 二、八、十六进制的巧妙转换

由于 $8=2^3$，$16=2^4$，这三种进制之间存在直接的对应关系，转换非常便捷。

### 二进制 $\leftrightarrow$ 八进制 (3 位一组)

以小数点为界，向左（整数部分）和向右（小数部分）每 **3** 位二进制数为一组，转换为对应的 1 位八进制数。不足 3 位时补 0。

{{< callout >}}

**示例** 将二进制数 110101 转换为八进制

$$
(110101)_2 \rightarrow (110, 101)_2 \rightarrow (6, 5)_8 \rightarrow (65)_8
$$

{{</ callout >}}

### 二进制 $\leftrightarrow$ 十六进制 (4 位一组)

以小数点为界，向左和向右每 **4** 位二进制数为一组，转换为对应的 1 位十六进制数。十六进制数码 10\~15 分别用 A\~F 表示。

{{< callout >}}

**示例** 将二进制数 11101011 转换为十六进制

$$
(11101011)_2 \rightarrow (1110, 1011)_2 \rightarrow (E, B)_{16} \rightarrow (EB)_{16}
$$

{{</ callout >}}

### 对应表

| 十进制 | 二进制 | 八进制 | 十六进制 |
| :----: | :----: | :----: | :------: |
|   0    |  0000  |   0    |    0     |
|   1    |  0001  |   1    |    1     |
|   2    |  0010  |   2    |    2     |
|   3    |  0011  |   3    |    3     |
|   4    |  0100  |   4    |    4     |
|   5    |  0101  |   5    |    5     |
|   6    |  0110  |   6    |    6     |
|   7    |  0111  |   7    |    7     |
|   8    |  1000  |   10   |    8     |
|   9    |  1001  |   11   |    9     |
|   10   |  1010  |   12   |    A     |
|   11   |  1011  |   13   |    B     |
|   12   |  1100  |   14   |    C     |
|   13   |  1101  |   15   |    D     |
|   14   |  1110  |   16   |    E     |
|   15   |  1111  |   17   |    F     |
